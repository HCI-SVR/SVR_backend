from flask import Blueprint, jsonify, request
from svr.models import Music
import pandas as pd

bp = Blueprint('rate', __name__, url_prefix="/rate")
# df = pd.read_csv("../resources/heartrate_seconds_merged.csv")
# print(df)

count = {}
# 노래 재생 횟수 딕셔너리(key: music_id, value: count)

# df = pd.read_csv("../resources/heartrate_seconds_merged.csv")

@bp.route('/<int:heartrate>/')
def music(heartrate):
    # 심박수 그룹화
    if heartrate < 120:
        group_id = 1
    elif heartrate < 140:
        group_id = 2
    elif heartrate < 160:
        group_id = 3
    elif heartrate < 180:
        group_id = 4
    else:
        group_id = 5

    music_list = (Music.query.filter_by(group_id=group_id)
                  .order_by(Music.id).all())
    # music_list = Music.query.all().order_by(Music.id)
    # music_list = [music for music in music_list if music.group_id == group_id]  # 그룹 노래 꺼내오기



    # 재생되지 않은 노래가 있으면 그 노래를 선택하고 for문 break
    selected_music = None
    for music in music_list:
        if music.id not in count.keys():
            selected_music = music
            count[selected_music.id] = 1
            break

    # 재생되지 않는 노래가 있으면 노래 재생
    if selected_music:
        return jsonify(
            {
                "music": selected_music.serialize(),
                "count": count
            })


    min_count = min(count.values())
    min_music_list = []
    for music_id in count.keys():
        if count[music_id] == min_count:
            min_music_list.append(music_id)

    min_music_list.sort()

    if min_music_list:
        selected_music = Music.query.get(min_music_list[0])
        count[selected_music.id] += 1
        return jsonify({
            "music": selected_music.serialize(),
            "count": count
        })
    else:
        return jsonify({})


heartbeat_list = [77, 78, 77, 78, 72, 69, 69, 68, 68, 67, 67, 66, 67, 69,
                  68, 68, 67, 69, 69, 69, 68, 66, 67, 68, 68, 68, 69, 70, 68, 67, 67,
                  67, 68, 68, 69, 69, 69, 69, 67, 67, 67, 67, 67, 67, 67, 67, 67, 68,
                  7, 68, 68, 69, 69, 69, 69, 71, 72, 72, 73, 73, 74, 74, 74, 74, 74,
                  74, 73, 73, 72, 71, 71, 70, 70, 69, 70, 70, 70, 70, 70, 70, 70, 71,
                  71, 72, 73, 76, 77, 80, 84, 86, 87, 86, 89, 93, 94, 95, 96, 98, 99,
                  90, 89, 80, 74, 70, 68, 65, 66, 68, 68, 68, 66, 66, 65, 64, 66, 67,
                  71, 70, 67, 67, 65, 65, 63, 63, 65, 66, 67, 68, 68, 69, 70, 71, 73,
                  73, 73, 72, 71, 71, 71, 70, 69, 70, 70, 72, 74, 74, 73, 72, 73, 75, 74,
                  75, 80, 75, 76, 75, 75, 75, 80, 79, 78, 78, 78, 77, 76, 77, 76, 77, 78,
                  79, 80, 80, 81, 82, 82, 83, 82, 81]

calories_list = [0.786499977, 1.572999954, 2.359499931, 3.145999908, 3.932499886, 4.876299858, 5.820099831, 6.763899803, 7.707699776, 8.651499748, 9.595299721, 10.53909969, 11.32559967, 12.11209965, 13.05589962, 13.8423996, 14.78619957, 15.57269955, 16.35919952, 17.1456995, 18.08949947, 19.03329945, 19.97709942, 20.92089939, 21.86469936, 23.9095993, 24.85339928, 25.79719925, 26.74099922, 29.25779915, 30.20159912, 31.14539909, 32.08919907, 33.03299904, 35.86439896, 38.38119888, 40.42609882, 42.94289875, 45.30239868, 47.50459862, 50.02139854, 52.22359848, 53.01009846, 53.95389843, 54.8976984, 56.94259834, 57.88639832, 59.93129826, 62.60539818, 64.80759811, 67.00979805, 69.05469799, 70.94229794, 73.30179787, 74.24559784, 76.44779778, 77.39159775, 78.33539772, 80.38029766, 81.32409763, 82.26789761, 84.94199753, 86.98689747, 89.66099739, 92.02049732, 92.96429729, 93.75079727, 94.53729725, 95.32379723, 96.1102972, 96.89679718, 97.84059715, 98.78439713, 99.7281971, 101.930397, 103.975297, 104.9190969, 105.8628969, 106.8066969, 109.3234968, 111.2110968, 111.9975967, 112.7840967, 113.5705967, 114.3570967, 115.1435966, 115.9300966, 116.7165966, 117.5030966, 118.2895966, 119.0760965, 119.8625965, 120.6490965, 121.4355965, 122.2220964, 123.0085964, 123.7950964, 124.5815964, 125.3680964, 126.1545963, 126.9410963, 127.7275963, 128.5140963, 129.3005962, 130.0870962, 130.8735962, 131.6600962, 132.4465961, 133.2330961, 134.0195961, 134.8060961, 135.5925961, 136.379096, 137.165596, 137.952096, 138.738596, 139.5250959, 140.3115959, 141.0980959, 141.8845959, 142.6710958, 143.4575958, 144.2440958, 145.0305958, 145.8170958, 146.6035957, 147.3900957, 148.1765957, 148.9630957, 149.7495956, 150.5360956, 151.3225956, 152.1090956, 152.8955956, 153.6820955, 154.4685955, 155.2550955, 156.0415955, 156.8280954, 157.6145954, 158.4010954, 159.1875954, 159.9740953, 160.7605953, 161.5470953, 162.3335953, 163.1200953, 163.9065952, 164.6930952, 165.4795952, 166.2660952, 167.0525951, 167.8390951, 168.6255951, 169.4120951, 170.198595, 172.558095, 174.9175949, 176.9624949, 179.3219948, 180.2657948, 181.0522947, 181.8387947, 182.6252947, 183.4117947, 184.3555946, 185.1420946, 186.0858946, 186.8723946, 187.6588945, 188.4453945, 189.2318945, 190.0183945, 190.8048944, 191.5913944, 193.9508944, 194.8946943, 197.7260942, 199.9282942, 200.7147942, 201.5012941, 202.2877941, 203.0742941, 203.8607941, 204.647294, 205.433794, 206.220294, 207.006794, 207.793294, 208.5797939, 209.3662939, 210.1527939, 210.9392939, 211.7257938, 212.5122938, 213.2987938, 214.0852938, 214.8717937, 215.6582937, 216.4447937, 217.2312937, 218.0177937, 218.8042936, 219.5907936, 220.3772936, 221.1637936, 221.9502935, 222.7367935, 223.5232935, 224.3097935, 225.0962934, 225.8827934, 226.6692934, 227.4557934, 228.2422934, 229.0287933, 229.8152933, 230.6017933, 231.3882933, 232.1747932, 232.9612932, 233.7477932, 234.5342932, 235.3207932, 236.1072931, 236.8937931, 237.6802931, 238.4667931, 239.253293, 240.039793, 240.826293, 241.612793, 242.3992929, 243.1857929, 243.9722929, 244.7587929, 245.5452929, 246.3317928, 247.1182928, 247.9047928, 248.6912928, 249.4777927, 250.2642927, 251.0507927, 251.8372927, 252.6237926, 253.4102926, 254.1967926, 254.9832926, 255.7697926, 256.5562925, 257.3427925, 258.1292925, 258.9157925, 259.7022924, 260.4887924, 261.2752924, 262.0617924, 262.8482924, 263.6347923, 264.4212923, 265.2077923, 265.9942923, 266.7807922, 267.5672922, 268.3537922, 269.1402922, 269.9267921, 270.7132921, 271.4997921, 272.2862921, 273.0727921, 273.859292, 274.645792, 275.432292, 276.218792, 277.0052919, 277.7917919, 278.5782919, 279.3647919, 280.1512918, 280.9377918, 281.7242918, 282.6680918, 283.4545918, 284.2410917, 285.0275917, 285.8140917, 286.6005917, 287.3870916, 288.1735916, 288.9600916, 289.7465916, 290.5330915, 291.3195915, 292.1060915, 292.8925915, 293.6790915, 294.6228914, 295.4093914, 296.1958914, 296.9823914, 297.7688913, 298.5553913, 299.3418913, 300.1283913, 300.9148912, 301.7013912, 302.4878912, 303.2743912, 304.0608912, 304.8473911, 305.6338911, 306.4203911, 307.2068911, 307.993391, 308.779891, 309.723691, 310.510191, 311.4539909, 312.2404909, 313.0269909, 313.8134909, 314.5999908, 315.3864908, 316.1729908, 316.9594908, 317.7459908, 318.5324907, 319.3189907, 320.1054907, 320.8919907, 321.6784906, 322.4649906, 323.2514906, 324.0379906, 324.8244905, 325.6109905, 326.3974905, 327.1839905, 327.9704905, 328.7569904, 329.5434904, 330.3299904, 331.1164904, 331.9029903, 332.6894903, 333.4759903, 334.2624903, 335.0489902, 335.8354902, 336.6219902, 337.4084902, 338.1949902, 338.9814901, 339.7679901, 340.5544901, 341.3409901, 342.12749, 342.91399, 343.70049, 344.48699, 345.27349, 346.0599899, 346.8464899, 347.6329899, 348.4194899, 349.2059898, 349.9924898, 350.7789898, 351.5654898, 352.3519897, 353.1384897, 353.9249897, 354.7114897, 355.4979897, 356.2844896, 357.0709896, 357.8574896, 358.6439896, 359.4304895, 360.2169895, 361.1607895, 361.9472895, 362.7337894, 363.5202894, 364.3067894, 365.0932894, 365.8797894, 366.6662893, 367.4527893, 368.2392893, 369.0257893, 369.8122892, 370.5987892, 371.3852892, 372.1717892, 372.9582891, 373.7447891, 374.6885891, 375.4750891, 376.2615891, 377.048089, 377.834589, 378.621089, 379.407589, 380.1940889, 380.9805889, 381.7670889, 382.5535889, 383.3400888, 384.1265888, 384.9130888, 385.6995888, 386.4860888, 387.2725887, 388.0590887, 388.8455887, 389.6320887, 390.4185886, 391.2050886, 391.9915886, 392.7780886, 393.5645885, 394.3510885, 395.1375885, 395.9240885, 396.7105885, 397.4970884, 398.2835884, 399.0700884, 399.8565884, 400.6430883, 401.4295883, 402.2160883, 403.0025883, 403.7890882, 404.5755882, 405.3620882, 406.1485882, 406.9350882, 407.7215881, 408.5080881, 409.2945881, 410.2383881, 411.024888, 411.811388, 412.597888, 413.384388, 414.1708879, 414.9573879, 415.7438879, 416.5303879, 417.3168879, 418.1033878, 418.8898878, 419.6763878, 420.4628878, 421.2493877, 422.0358877, 422.8223877, 423.6088877, 424.3953876, 425.1818876, 425.9683876, 426.7548876, 427.5413876, 428.3278875, 429.1143875, 429.9008875, 430.6873875, 431.4738874, 432.2603874, 433.0468874, 433.8333874, 434.6198874, 435.4063873, 436.1928873, 436.9793873, 437.7658873, 438.5523872, 439.3388872, 440.1253872, 440.9118872, 441.6983871, 442.4848871, 443.2713871, 444.0578871, 444.8443871, 445.630887, 446.417387, 447.203887, 447.990387, 448.7768869, 449.5633869, 450.3498869, 451.1363869, 451.9228868, 452.7093868, 453.4958868, 454.2823868, 455.0688868, 455.8553867, 456.6418867, 457.4283867, 458.2148867, 459.0013866, 459.7878866, 460.5743866, 461.3608866, 462.1473866, 462.9338865, 463.7203865, 464.5068865, 465.4506865, 467.8101864, 468.7539864, 471.2707863, 473.4729862, 474.4167862, 476.6189861, 477.5627861, 478.3492861, 479.2930861, 481.967186, 484.3266859, 486.5288858, 487.4726858, 489.9894857, 491.8770857, 494.0792856, 496.2814856, 498.3263855, 499.2701855, 500.2139854, 501.0004854, 501.7869854, 502.7307854, 504.9329853, 505.8767853, 508.7081852, 511.5395851, 513.899085, 516.573185, 519.4045849, 521.6067848, 523.9662848, 526.3257847, 528.9998846, 529.9436846, 532.3031845, 538.2805843, 544.9658341, 552.5948839, 560.3812337, 567.4597335, 570.2911334, 571.0776334, 571.8641334, 572.6506333, 573.4371333, 574.2236333, 575.0101333, 575.7966332, 576.5831332, 577.3696332, 578.1561332, 578.9426332, 579.7291331, 580.5156331, 581.3021331, 582.0886331, 582.875133, 583.661633, 584.448133, 585.234633, 586.0211329, 588.6952329, 591.8412328, 597.0321326, 603.1668324, 607.7285323, 609.7734323, 610.7172322, 611.5037322, 612.2902322, 613.0767322, 616.3800321, 620.7844319, 626.7618318, 631.7954316, 633.8403316, 637.7728314, 638.7166314, 639.6604314, 640.6042314, 642.8064313, 643.7502313, 645.7951312, 646.7389312, 647.6827312, 648.6265311, 651.1433311, 653.974731, 656.1769309, 658.2218308, 660.5813308, 663.0981307, 666.4014306, 669.0755305, 671.1204305, 675.6821303, 679.7719302, 681.9741302, 684.1763301, 686.22123, 688.26613, 689.2099299, 690.1537299, 691.0975299, 692.0413299, 692.9851298, 693.9289298, 694.8727298, 695.8165298, 697.7041297, 698.6479297, 699.5917296, 700.5355296, 702.5804296, 704.4680295, 706.3556294, 707.2994294, 709.5016294, 711.7038293, 712.6476293, 714.5352292, 715.4790292, 716.4228292, 718.9396291, 721.928329, 722.872129, 724.9170289, 726.8046288, 727.7484288, 728.6922288, 729.6360288, 730.5798287, 731.5236287, 732.4674287, 734.3550286, 737.1864285, 738.1302285, 739.0740285, 739.8605285, 740.8043284, 742.8492284, 743.7930284, 744.7368283, 745.6806283, 746.6244283, 748.5120282, 749.4558282, 750.3996282, 751.3434281, 752.2872281, 753.2310281, 754.1748281, 756.219728, 757.163528, 757.9500279, 758.8938279, 759.8376279, 760.7814279, 761.7252278, 762.6690278, 763.6128278, 764.5566278, 765.5004277, 767.5453277, 768.4891276, 769.4329276, 770.3767276, 774.6238275, 777.1406274, 778.0844274, 779.0282273, 779.9720273, 783.4326272, 785.9494271, 786.8932271, 787.8370271, 790.511127, 792.5560269, 795.5447268, 798.2188268, 799.1626267, 799.9491267, 800.8929267, 801.8367267, 802.7805266, 803.5670266, 804.5108266, 805.4546266, 806.3984265, 807.3422265, 808.2860265, 809.2298265, 810.1736264, 811.1174264, 812.0612264, 813.0050263, 813.9488263, 814.8926263, 815.8364263, 816.7802262, 817.7240262, 818.6678262, 819.6116261, 821.6565261, 822.6003261, 823.544126, 825.589026, 826.5328259, 827.4766259, 828.4204259, 829.3642259, 830.1507258, 831.0945258, 831.8810258, 832.8248258, 833.7686257, 834.7124257, 835.6562257, 836.6000257, 837.5438256, 838.4876256, 839.4314256, 840.3752255, 841.3190255, 842.2628255, 843.2066255, 845.0942254, 849.9705253, 854.0603251, 855.0041251, 855.9479251, 857.992825, 858.936625, 859.880425, 860.8242249, 861.7680249, 862.7118249, 863.6556249, 864.5994248, 865.5432248, 866.4870248, 867.4308248, 868.3746247, 869.3184247, 871.3633246, 872.3071246, 873.2509246, 874.1947246, 876.0823245, 877.0261245, 877.9699244, 878.9137244, 879.8575244, 881.9024243, 882.8462243, 884.8911242, 885.6776242, 887.7225242, 888.6663241, 889.6101241, 890.5539241, 891.4977241, 893.542624, 894.486424, 895.4302239, 896.3740239, 897.3178239, 899.6773238, 901.7222238, 902.6660237, 903.6098237, 904.5536237, 905.4974236, 906.4412236, 907.3850236, 908.3288236, 909.2726235, 910.2164235, 911.1602235, 912.1040235, 913.0478234, 913.9916234, 914.9354234, 915.8792233, 916.8230233, 917.7668233, 918.7106233, 922.4858232, 925.9464231, 927.834023, 928.777823, 929.7216229, 930.6654229, 931.6092229, 932.5530229, 933.4968228, 934.4406228, 935.3844228, 936.3282228, 937.2720227, 938.2158227, 939.1596227, 940.1034226, 941.0472226, 941.9910226, 942.7775226, 943.5640225, 944.5078225, 947.6538224, 948.5976224, 949.5414224, 950.4852223, 951.2717223, 952.0582223, 953.0020223, 953.7885222, 954.5750222, 955.5188222, 956.4626222, 957.4064221, 958.3502221, 959.1367221, 959.9232221, 960.709722, 961.496222, 962.440022, 963.226522, 964.1703219, 965.1141219, 966.0579219, 967.0017219, 968.8893218, 969.8331218, 970.7769217, 971.7207217, 972.6645217, 973.6083217, 974.5521216, 975.4959216, 976.4397216, 977.3835216, 978.3273215, 979.2711215, 980.2149215, 981.1587214, 982.1025214, 983.0463214, 983.9901214, 984.9339213, 985.8777213, 986.8215213, 987.7653213, 988.7091212, 989.6529212, 990.5967212, 991.5405211, 992.3270211, 993.2708211, 994.2146211, 995.158421, 996.102221, 997.046021, 997.989821, 998.9336209, 1002.079621, 1004.911021, 1006.955921, 1007.899721, 1010.101921, 1012.304121, 1016.07932, 1018.28152, 1022.84322, 1025.98922, 1029.13522, 1035.11262, 1041.48327, 1048.561769, 1051.078569, 1054.067269, 1058.157069, 1063.347969, 1068.066969, 1070.741069, 1076.403869, 1083.403718, 1090.482218, 1096.774218, 1103.066218, 1109.200918, 1115.335618, 1121.470317, 1127.447717, 1133.425117, 1139.559817, 1145.851817, 1151.986516, 1157.806616, 1160.952616, 1163.154816, 1167.087316, 1167.873816, 1172.120916, 1174.165816, 1175.109616, 1176.053416, 1176.997216, 1177.941016, 1178.884816, 1179.671316, 1180.615116, 1181.558916, 1183.603816, 1184.547616, 1185.491416, 1186.277915, 1188.322815, 1189.266615, 1190.210415, 1191.154215, 1193.199115, 1194.142915, 1195.086715, 1196.030515, 1196.817015, 1197.760815, 1200.592215, 1203.109015, 1204.052815, 1206.255015, 1207.198815, 1208.142615, 1210.030215, 1211.917815, 1212.861615, 1213.805415, 1214.749215, 1215.693015, 1216.636815, 1217.580615, 1218.524415, 1219.468215, 1220.412014, 1221.355814, 1222.142314, 1223.086114, 1224.029914, 1224.973714, 1225.917514, 1226.861314, 1227.805114, 1228.748914, 1229.692714, 1230.636514, 1231.580314, 1232.524114, 1233.467914, 1234.411714, 1235.355514, 1236.142014, 1237.085814, 1238.973414, 1240.861014, 1241.804814, 1242.748614, 1243.692414, 1246.051914, 1248.883314, 1249.669814, 1251.872014, 1252.815814, 1253.759614, 1254.703413, 1255.647213, 1256.591013, 1259.422413, 1263.354913, 1266.658213, 1267.602013, 1269.489613, 1270.433413, 1271.377213, 1272.321013, 1273.264813, 1274.208613, 1275.152413, 1275.938913, 1276.882713, 1277.669213, 1278.455713, 1280.500613, 1281.444413, 1283.489313, 1285.534213, 1288.365613, 1289.309412, 1290.253212, 1291.197012, 1292.140812, 1293.084612, 1294.028412, 1294.972212, 1295.916012, 1296.859812, 1297.803612, 1298.747412, 1299.691212, 1300.635012, 1301.578812, 1302.522612, 1303.466412, 1305.668612, 1310.073012, 1313.376312, 1315.421212, 1317.466112, 1319.825612, 1322.185112, 1324.387311, 1326.904111, 1330.050111, 1332.095011, 1333.038811, 1333.982611, 1334.926411, 1335.870211, 1336.814011, 1337.757811, 1338.701611, 1339.645411, 1340.589211, 1341.533011, 1342.476811, 1344.364411, 1345.308211, 1346.252011, 1347.195811, 1348.139611, 1349.083411, 1350.027211, 1352.544011, 1357.263011, 1359.93711, 1361.82471, 1362.76851, 1363.71231, 1364.65611, 1365.59991, 1366.54371, 1367.48751, 1368.27401, 1369.21781, 1370.16161, 1370.94811, 1371.73461, 1372.52111, 1373.46491, 1374.25141, 1375.03791, 1375.82441, 1376.76821, 1377.55471, 1378.49851, 1379.44231, 1380.38611, 1381.32991, 1382.27371, 1383.21751, 1384.16131, 1386.04891, 1393.206059, 1398.868859, 1402.801359, 1405.632759, 1408.621459, 1410.509059, 1411.452859, 1412.396659, 1414.284259, 1415.228059, 1416.171859, 1417.115659, 1418.059459, 1419.003259, 1421.205459, 1424.036859, 1426.239058, 1432.452408, 1435.598408, 1439.688208, 1444.249908, 1450.384608, 1453.530608, 1455.418208, 1456.204708, 1456.991208, 1457.777708, 1459.979908, 1465.642707, 1470.990907, 1473.822307, 1476.024507, 1476.811007, 1477.597507, 1478.384007, 1480.586207, 1482.945707, 1484.990607, 1487.035507, 1487.979307, 1488.923107, 1490.968007, 1491.911807, 1492.855607, 1493.799407, 1494.743207, 1495.687006, 1497.731906, 1498.675706, 1499.619506, 1500.563306, 1501.507106, 1502.450906, 1503.394706, 1505.439606, 1506.383406, 1507.327206, 1508.271006, 1509.214806, 1510.158606, 1512.360806, 1514.877606, 1515.821406, 1517.866306, 1520.225806, 1522.113406, 1524.158306, 1526.045906, 1527.933506, 1529.978405, 1532.023305, 1534.068205, 1535.012005, 1535.955805, 1536.899605, 1537.843405, 1539.731005, 1541.933205, 1544.135405, 1545.079205, 1546.023005, 1547.910605, 1548.854405, 1551.056605, 1552.000405, 1554.202605, 1556.247505, 1558.292405, 1559.236205, 1560.180005, 1561.123805, 1563.483305, 1565.685504, 1568.359604, 1570.247204, 1572.292104, 1574.808904, 1577.954904, 1580.629004, 1582.673904, 1584.718804, 1586.921004, 1587.864804, 1590.224304, 1591.168104, 1593.370304, 1595.572504, 1597.617404, 1598.561203, 1600.606103, 1602.651003, 1604.538603, 1606.426203, 1607.370003, 1608.313803, 1610.358703, 1612.403603, 1614.448503, 1616.808003, 1620.583203, 1625.459503, 1628.605503, 1632.066103, 1636.785102, 1642.762502, 1648.268002, 1654.088102, 1659.750902, 1664.312602, 1665.256402, 1666.042902, 1666.829401, 1667.615901, 1668.402401, 1669.188901, 1670.132701, 1670.919201, 1671.863001, 1672.806801, 1673.593301, 1674.379801, 1675.323601, 1676.267401, 1677.053901, 1677.840401, 1678.626901, 1679.413401, 1680.199901, 1680.986401, 1681.930201, 1682.716701, 1683.503201, 1684.289701, 1685.076201, 1685.862701, 1686.649201, 1687.435701, 1688.222201, 1691.053601, 1696.716401, 1701.9073, 1704.7387, 1711.26665, 1718.18785, 1724.5585, 1727.8618, 1728.8056, 1729.7494, 1731.9516, 1733.9965, 1734.9403, 1735.884099, 1737.928999, 1738.872799, 1740.917699, 1745.951299, 1749.254599, 1751.456799, 1752.400599, 1754.602799, 1756.804999, 1759.479099, 1760.422899, 1762.467799, 1764.669999, 1765.613799, 1767.815999, 1769.860898, 1770.804698, 1771.748498, 1774.265298, 1776.782098, 1779.298898, 1780.242698, 1783.231398]

정
@bp.route('/heartbeat/')
def heartrate():
    global heartbeat_list
    heartbeat_return = heartbeat_list[0:11]
    heartbeat_list = heartbeat_list[12:]

    global calories_list
    calories_return = calories_list[0:11]
    calories_list = calories_list[12:]

    return jsonify({
        "heartbeat": heartbeat_return,
        "calories": calories_return
    })
